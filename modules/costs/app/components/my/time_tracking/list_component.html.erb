<%= component_wrapper(tag: "div", data: wrapper_data) do %>
  <%= render(My::TimeTracking::HeaderComponent.new(mode:, date:, view_mode: :list)) %>
  <%= render(My::TimeTracking::SubHeaderComponent.new(mode:, date:, view_mode: :list)) %>

    <% range.each do |date| %>
      <%= render(Primer::OpenProject::CollapsibleSection.new(collapsed: collapsed?(date))) do |section| %>
        <% section.with_title { date_title(date) } %>
        <% section.with_caption { date_caption(date) } %>
        <% section.with_additional_information do %>
          <%=
            render(Primer::Beta::Text.new(color: :muted, id: "time-entries-count-#{date.iso8601}")) { "#{entry_count_for(date)} - " } +
            render(Primer::Beta::Text.new(id: "time-entries-total-#{date.iso8601}")) { total_hours_for(date) }
          %>
        <% end %>
        <% section.with_collapsible_content do %>
          <%= render(My::TimeTracking::DailyEntriesTable.new(rows: grouped_time_entries[date], date: date, mode: mode)) %>
        <% end %>
      <% end %>
    <% end %>
<% end %>
