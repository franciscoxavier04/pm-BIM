<%= component_wrapper(tag: "div", data: wrapper_data) do %>
  <%= render(My::TimeTracking::HeaderComponent.new(mode:, date:, view_mode: :list)) %>
  <%= render(My::TimeTracking::SubHeaderComponent.new(mode:, date:, view_mode: :list)) %>

    <% range.each do |date| %>
      <%= render(Primer::OpenProject::CollapsibleSection.new(collapsed: collapsed?(date))) do |section| %>
        <% section.with_title { date_title(date) } %>
        <% section.with_caption { date_caption(date) } %>
        <% section.with_additional_information do %>
          <%= render(My::TimeTracking::ListStatsComponent.new(time_entries: grouped_time_entries[date], date: date)) %>
        <% end %>
        <% section.with_collapsible_content do %>
          <%= render(My::TimeTracking::ListWrapperComponent.new(time_entries: grouped_time_entries[date], date: date, mode: mode)) %>
        <% end %>
      <% end %>
    <% end %>
<% end %>
