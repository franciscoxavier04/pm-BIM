<%=
  component_wrapper do
    flex_layout do |container|
      if @meeting.errors[:base].present?
        container.with_row(mb: 3) do
          render(Primer::Alpha::Banner.new(mb: 3, icon: :stop, scheme: :danger)) { @meeting.errors[:base].join("\n") }
        end
      end
      container.with_row do
        render(border_box_container) do |box|
          box.with_header(color: :muted) do
            render(Meetings::Participants::BoxHeaderComponent.new(meeting: @meeting))
          end

          if @meeting_participants.none?
            box.with_row do
              render(Primer::Beta::Blankslate.new) do |blankslate|
                blankslate.with_visual_icon(icon: :people, size: :medium)
                blankslate.with_heading(tag: :h2).with_content(I18n.t("meeting.participants.blankslate.heading"))
                blankslate.with_description do
                  flex_layout do |flex|
                    flex.with_row(mb: 4) do
                      render(Primer::Beta::Text.new(color: :subtle)) { I18n.t("meeting.participants.blankslate.description") }
                    end
                  end
                end
              end
            end
          else
            render(Primer::BaseComponent.new(tag: :div, classes: "participants-list")) do
              @meeting_participants.sort.each do |participant|
                box.with_row do
                  render(Meetings::Participants::BoxRowComponent.new(meeting: @meeting, participant:))
                end
              end
            end
          end
        end
      end
    end
  end
%>
