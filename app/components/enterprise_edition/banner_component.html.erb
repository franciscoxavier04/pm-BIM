<%=
  grid_layout("op-enterprise-banner",
              **@system_arguments) do |grid|
    grid.with_area(:visual) do
      render(Primer::Beta::Octicon.new(icon: :"op-enterprise-addons", classes: "op-enterprise-banner--icon"))
    end

    grid.with_area(:content) do
      flex_layout do |flex|
        flex.with_row do
          render(Primer::Beta::Text.new(font_weight: :bold)) { title }
        end

        flex.with_row(mt: 1) do
          concat render(Primer::Beta::Text.new) { description }
          concat " "
          concat render(Primer::Beta::Text.new) { plan_text }
        end

        if features.present?
          flex.with_row do
            content_tag(:ul) { safe_join features.map { |text| render(Primer::Beta::Text.new(tag: :li)) { text } } }
          end
        end

        flex.with_row(mt: 2) do
          render EnterpriseEdition::UpsaleButtonsComponent.new(feature_key)
        end
      end
    end

    if @dismissable
      grid.with_area(:dismiss) do
        render(
          Primer::Beta::IconButton.new(
            classes: "op-enterprise-banner--close-icon",
            scheme: :invisible,
            tag: :a,
            href: dismiss_enterprise_banner_path(feature_key:),
            data: { turbo_stream: true, turbo_method: :post },
            icon: :x,
            aria: { label: t("ee.upsale.hide_banner") }
          )
        )
      end
    end
  end
%>
