<%=
  component_wrapper do
    component_collection do |collection|
      if show_banner?
        collection.with_component(WorkPackages::DatePicker::BannerComponent.new(work_package:, manually_scheduled:))
      end

      collection.with_component(Primer::Alpha::Dialog::Body.new) do
        flex_layout do |body|
          body.with_row(mb: 3) do
            flex_layout(align_items: :flex_end, justify_content: :space_between) do |first_row|
              first_row.with_column do
                render(Primer::Alpha::FormControl.new(label: I18n.t("work_packages.datepicker_modal.mode.title"))) do |component|
                  component.with_input do
                    render(Primer::Alpha::SegmentedControl.new("aria-label": I18n.t("work_packages.datepicker_modal.mode.title"))) do |control|
                      control.with_item(tag: :a,
                                        href: datepicker_dialog_content_work_package_path(manually_scheduled: true),
                                        data: { turbo_stream: true },
                                        label: I18n.t("work_packages.datepicker_modal.mode.manual"),
                                        title: I18n.t("work_packages.datepicker_modal.mode.manual"),
                                        selected: manually_scheduled)
                      control.with_item(tag: :a,
                                        href: datepicker_dialog_content_work_package_path(manually_scheduled: false),
                                        data: { turbo_stream: true },
                                        label: I18n.t("work_packages.datepicker_modal.mode.automatic"),
                                        title: I18n.t("work_packages.datepicker_modal.mode.automatic"),
                                        selected: !manually_scheduled)
                    end
                  end
                end
              end

              first_row.with_column(mb: 1) do
                render(Primer::Alpha::CheckBox.new(name: "name",
                                                   label: I18n.t("work_packages.datepicker_modal.ignore_non_working_days.title"),
                                                   checked: work_package.ignore_non_working_days))
              end
            end
          end
        end
      end
    end
  end
%>
