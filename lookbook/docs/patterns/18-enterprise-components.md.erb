OpenProject provides multiple ways to render upsale components. This document describes the different components and how to use them.

# Requirements

## Token Gem

In order to add a new enterprise feature, you need to add it the [token gem](https://github.com/opf/openproject-token) `plans.rb` file,
so it gets distributed and associated to the correct plan.

## Translations

To use the banners below, you need to add translations and links.

**Translations**

You need to add translations for the feature and the upsale banner.
The feature translation is used in the feature list, the upsale translation is used in the upsale banner.

This is the default convention:

```yaml
en:
  # ... other keys
  ee:
    feature:
	  # ...
      your_feature_name: "Fancy EE feature!"
    upsale:
      # ...
      your_feature_name:
        title: "Title of the banner"
        description: "My description"
        features:
          foo: "Has foo!"
          bar: "Has bar!"
```

You can optionally provide a `i18n_scope` parameter to the components below to customize the place to look
for the upsale translation keys.

**docs/static_links.yml**

Every feature has a "More information" link going to the website, an enterprise landing page, or a documentation page.
You need to add a link to the [`docs/static_links.yml`](https://github.com/opf/openproject/blob/dev/config/static_links.yml)
file under the `enterprise_features` section.

## Full-page upsale pages

Use when: You have a feature video / image and a full page to fill

```ruby
render EnterpriseEdition::UpsalePageComponent.new(
  :enterprise_feature,
  video: "enterprise/some-video.mp4",
  # or image: "enterprise/some-image.png"
)
```

<%= embed OpenProject::EnterpriseEdition::UpsalePageComponentPreview, :default, panels: %i[] %>

## Inline upsale banners

Use when: You want to show content below the banners, e.g. in administrative setting pages.

```ruby
render EnterpriseEdition::BannerComponent.new(:enterprise_feature)
```

<%= embed OpenProject::EnterpriseEdition::BannerComponentPreview, :default, panels: %i[] %>

## Dismissible upsale banners

Use when: You want to show a feature to regular users, but allow them to hide it for good.

```ruby
render EnterpriseEdition::BannerComponent.new(:enterprise_feature, dismissable: true)
```

<%= embed OpenProject::EnterpriseEdition::BannerComponentPreview, :dismissable, panels: %i[] %>
