<%=
  table = Class.new(OpPrimer::BorderBoxTableComponent) do
    columns :foo, :bar

    mobile_labels :bar

    def self.name
      "MyTable"
    end

    def mobile_title
      "Mobile foo"
    end

    def row_class
      @row_class ||= Class.new(OpPrimer::BorderBoxRowComponent) do
        def self.name
          "MyRow"
        end

        def button_links
          [
            edit_button,
            delete_button
          ]
        end

        def edit_button
          render(Primer::Beta::Button.new(scheme: :secondary, tag: :a, href: "#")) { "Edit" }
        end

        def delete_button
          render(Primer::Beta::IconButton.new(icon: :trash, scheme: :danger, tag: :a, href: "#", "aria-label": "Delete"))
        end

        def foo
          "foo"
        end

        def bar
          "bar"
        end
      end
    end

    def has_footer?
      true
    end

    def footer
      render(Primer::BaseComponent.new(tag: :span)) do
        concat render(Primer::Beta::Text.new) { "This can be a custom footer component " }
        concat render(Primer::Beta::Link.new(href: "#", underline: true)) { "with all sorts of things" }
      end
    end

    def headers
      [
        [:foo, { caption: "Foo column" }],
        [:bar, { caption: "Bar column" }]
      ]
    end
  end

  render(table.new(rows: [1, 2]))
%>
